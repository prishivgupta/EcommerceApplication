<app-header></app-header>

<br/>
<!-- ============== SECTION PAGETOP ============== -->
<section *ngIf="!orderSuccess" class="padding-y-sm color">
   <div class="container color py-3">
      <a class="text-white" routerLink="/home">Home</a>
      /
      <a class="text-white" routerLink="/cart">Cart</a>
      /
      <a class="breadcrumb-item active text-white" aria-current="page">Place Order</a>
   </div>
    <!-- container //  -->
</section>
 <!-- ============== SECTION PAGETOP END// ============== -->
 <!-- ============== SECTION ============== -->
<section *ngIf="!orderSuccess" class="padding-y bg-light p-5">
   <div class="container">
      <div class="row">
         <main class="col-xl-8 col-lg-8">
            <!-- ============== COMPONENT CHECKOUT =============== -->			
            <article class="card p-4">
               <div class="content-body">
                  <h5 class="card-title"> Shipment Address </h5>
                  
                  <!-- row end.// -->
                  <div class="row">
                     <div class="col-sm-12">
                        <label for="address" class="form-label">Address</label>
                        <input type="text" class="form-control"  placeholder="Enter Address" name="address" id="address" [(ngModel)]="address.address">
                        <span *ngIf="address.address.length == 0" style="color:red" ng-show="ngForm.address.$dirty && ngForm.address.$invalid">
                           <span ng-show="ngForm.address.$error.required">Address is required.</span>
                        </span>
                     </div>
                     <div class="col-sm-12 p-2">

                     </div>
                     <!-- col end.// -->
                     <div class="col-sm-4 mb-3">
                        <label for="state" class="form-label">State</label>
                        <input type="text" class="form-control"  placeholder="Enter State" name="state" id="state" [(ngModel)]="address.state">
                        <span *ngIf="address.state.length == 0" style="color:red" ng-show="ngForm.state.$dirty && ngForm.state.$invalid">
                           <span ng-show="ngForm.state.$error.required">State is required.</span>
                        </span>
                     </div>
                     <!-- col end.// -->
                     <div class="col-sm-4 col-6 mb-3">
                        <label for="city" class="form-label">City</label>
                        <input type="text" class="form-control"  placeholder="Enter City" name="city" id="city" [(ngModel)]="address.city">
                        <span *ngIf="address.city.length == 0" style="color:red" ng-show="ngForm.city.$dirty && ngForm.city.$invalid">
                           <span ng-show="ngForm.city.$error.required">City is required.</span>
                        </span>
                     </div>
                     <!-- col end.// -->
                     <div class="col-sm-4 col-6 mb-3">
                        <label for="pincode" class="form-label">Pincode</label>
                        <input type="text" class="form-control"  placeholder="Enter Pincode" name="pincode" id="pincode" [(ngModel)]="address.pincode">
                        <span *ngIf="address.pincode.length == 0" style="color:red" ng-show="ngForm.pincode.$dirty && ngForm.pincode.$invalid">
                           <span ng-show="ngForm.pincode.$error.required">Address is required.</span>
                        </span>
                     </div>
                     <!-- col end.// -->
                  </div>
                  <hr class="my-4">
                  <h5 class="card-title"> Payment Method </h5>
                  <div class="row mb-3">
                     <div class="col-lg-4 mb-3">
                        <div class="box box-check">
                           <label class="form-check">
                           <input class="form-check-input" type="radio" name="paymentMethod" value="Cash On Delivery" checked [(ngModel)]="order.paymentMethod">
                           <b class="border-oncheck"></b>
                           <span class="form-check-label">
                           Cash On Delivery <br>
                           </span>
                           </label>
                        </div>
                     </div>
                     <!-- col end.// -->
                     <div class="col-lg-4 mb-3">
                        <div class="box box-check">
                           <label class="form-check">
                           <input class="form-check-input" type="radio" name="paymentMethod" value="Credit Card" checked [(ngModel)]="order.paymentMethod">
                           <b class="border-oncheck"></b>
                           <span class="form-check-label">
                           Credit Card <br>
                           </span>
                           </label>
                        </div>
                     </div>
                     <!-- col end.// -->
                  </div>
                  <!-- row.// -->
                  <!-- col end.// -->
                  <div class="float-end">
                     <button class="btn btn-light" routerLink="/home">Cancel</button>
                     &nbsp; &nbsp;
                     <button class="btn color" (click)="placeOrder()" [disabled]="address.address.length == 0 && address.state.length == 0 && address.city.length == 0 && address.state.length == 0">Place Order</button>
                  </div>
               </div>
               <!-- card-body end.// -->
            </article>
            <!-- card end.// -->
            <!-- ============== COMPONENT CHECKOUT .// =============== -->
         </main>
         <!-- col.// -->
         <aside class="col-xl-4 col-lg-4">
            <!-- ============== COMPONENT SUMMARY =============== -->
            <div class="card">
               <div class="card-body">
                  <article class="ms-lg-4 mt-4 mt-lg-0" style="max-width: 320px">
                     <h5 class="card-title">Summary</h5>
                     <dl class="dlist-align">
                        <dt>Total price:</dt>
                        <dd class="text-end"> &#8377;{{cartItems.length> 0 ? cartItems[0].cart.totalCost : 0}} </dd>
                     </dl>
                     <dl class="dlist-align">
                        <dt>Discount:</dt>
                        <dd class="text-end text-danger"> - &#8377;{{ cartItems.length> 0 ? cartItems[0].cart.discount : 0}} </dd>
                     </dl>
                     <dl class="dlist-align">
                        <dt>Shipping cost:</dt>
                        <dd class="text-end"> &#8377;0 </dd>
                     </dl>
                     <hr>
                     <dl class="dlist-align">
                        <dt> Total: </dt>
                        <dd class="text-end"> <strong class="text-dark"> &#8377;{{ cartItems.length> 0 ? (cartItems[0].cart.totalCost) - (cartItems[0].cart.discount) : 0}} </strong> </dd>
                     </dl>
                  </article>
                  <!-- ============== COMPONENT SUMMARY .// =============== -->
               </div>
               <!-- card-body.// -->
            </div>
         </aside>
         <!-- col.// -->
      </div>
      <!-- row.// -->
      <br><br>
   </div>
   <!-- container .//  -->
</section>
<!-- ============== SECTION END// ============== -->

<section *ngIf="orderSuccess" class="padding-y bg-light p-5">
   <div class="container">
     <div class="row">
      <div class="col-lg-12">
         <!-- ============== COMPONENT FINAL =============== -->
         <article class="card">
            <div class="card-body">
               <div class="mt-4 mx-auto text-center" style="max-width:600px">
               <svg width="96px" height="96px" viewBox="0 0 96 96" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
               <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
               <g id="round-check">
                  <circle id="Oval" fill="#D3FFD9" cx="48" cy="48" r="48"></circle>
                  <circle id="Oval-Copy" fill="#87FF96" cx="48" cy="48" r="36"></circle>
                  <polyline id="Line" stroke="#04B800" stroke-width="4" stroke-linecap="round" points="34.188562 49.6867496 44 59.3734993 63.1968462 40.3594229"></polyline>
               </g>
               </g>
               </svg>
               <div class="my-3">
               <h4>Thank you for order</h4>
               </div>
               </div>
               
               <!-- tracking-wrap.// -->
               <br>
            </div>
            <div style="display: flex; align-items: center; justify-content: center;">
               <button class="btn color" routerLink="/home"> Go To Home </button>
            </div>
            <br/>
         </article>
         <!-- ============== COMPONENT FINAL .// =============== -->
      </div>
     <!-- col.// -->
     
     </div>
     <!-- row.// -->
   </div>
   <!-- container end.// -->
</section>

<app-footer></app-footer>